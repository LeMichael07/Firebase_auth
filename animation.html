<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">


<!-- Firebase App (the core Firebase SDK) is always required and must be listed first -->
<script src="https://www.gstatic.com/firebasejs/6.2.3/firebase-app.js"></script>

<!-- Add Firebase products that you want to use -->
<script src="https://www.gstatic.com/firebasejs/6.2.3/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/6.2.3/firebase-firestore.js"></script>

<!-- Key File -->
<script type="text/javascript" src="../keys.js"></script>

<!-- Font Awesome -->
<link rel="stylesheet" href="../font-awesome/css/font-awesome.min.css">

<!-- BootStrap -->
<script src="https://code.jquery.com/jquery-3.4.1.js" integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

<!-- JQuery UI -->
<script   src="https://code.jquery.com/ui/1.12.0/jquery-ui.js"   integrity="sha256-0YPKAwZP7Mp3ALMRVB2i8GXeEndvCq3eSl/WsAl1Ryk="   crossorigin="anonymous"></script>

<!-- ANTONY STYLE/JS -->
<link rel="stylesheet" href="../animation.css" type="text/css" >


<!-- Moment.js -->
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.js"></script>

<!-- Google Font -->
<link href='https://fonts.googleapis.com/css?family=Monoton' rel='stylesheet' type='text/css'>

</head>
<body>
 <nav class="navbar navbar-expand-lg">
    <a class="navbar-brand" href="#">
      <span style="margin-top: 10px;"><img
          src="https://image.spreadshirtmedia.com/image-server/v1/mp/designs/1017840951,width=178,height=178,version=1550330846/lofi-hip-hop-tumblr-pink-logo.png"></img></span><span
        id="logo">Sound Good Music</span>
    </a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
      aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <ul class="navbar-nav ml-auto">
    <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            Antony Tsygankov
            </a>
            <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
            <a class="dropdown-item" href="#">logout</a>
            </div>
        </li>
        </ul>
  </div>
</nav>
<div class="row">
            <div class="col-lg-4" style="background:gray;">Spotify Playlist
                      <form class="search-form">
                      <input class="searchname" id="searchname" type="textbox" name="search" placeholder="Search artist or song name">
                      <input class = "search btn btn-primary" type="submit" name="search" value="Search">
                      </form>
                  
                  <div class="result-show">
                    </div>
                    <div class="container-1">
                        <button class="login btn btn-primary">Login to Spotify</button>
                        
                    </div>
                    <div class= "music-container-fluid">
                        
                    </div>
                </div>
<div class="music-player row">
    <div class="col-lg-3">
        <i class="fa fa-step-backward"></i>
        <i class="fa fa-play"></i>
        <i class="fa fa-step-forward"></i>
        
    </div>
    <div class="col-lg-1"><h6 class="start-time" style="text-align: right;"></h6></div>
    <div class="col-lg-4">
        <div class="progress-bar">
            <div class="progress"></div>
        </div></div>
    <div class="col-lg-1"><h6 class="end-time" style="text-align: left;"></h6></div>
    <div class="col-lg-3"></div>
</div>
<div class="container-fluid top-section">
    <div class="row">
        <div class="col-lg-4 section1 spotify-container">dd</div>
        <div class="col-lg-4 section2">ee</div>
        <div class="col-lg-4 section3">
<table class="table">
  <thead>
    <tr>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td class="album">
      <i class="fa fa-play-circle fa-3x hidden" aria-hidden="true"></i>
        <div class=album-holder><img src="https://i.scdn.co/image/00f8150fd37e09dadec28914a481cedf6247f1d3"></div>
        </td>
      <td>
      <p class="artist-name">Drake</p>
      <h5 class="song-name">Song by Drake</h5>
      </td>
      <td>
      <div class="time-holder">
      <h5 class="song-length">3:35</h5>
      </div>
      </td>
    </tr>
    <tr>
      <td class="album">
        <i class="fa fa-play-circle fa-3x hidden" aria-hidden="true"></i>
        <div class=album-holder><img src="https://i.scdn.co/image/00f8150fd37e09dadec28914a481cedf6247f1d3"></div>
        </td>
      <td>
      <p class="artist-name">Drake</p>
      <h5 class="song-name">Song by Drake</h5>
      </td>
      <td>
      <div class="time-holder">
      <h5 class="song-length">3:35</h5>
      </div>
      </td>
      
    </tr>
    <tr>
      <td class="album">
        <i class="fa fa-play-circle fa-3x hidden" aria-hidden="true"></i>
        <div class=album-holder><img src="https://i.scdn.co/image/00f8150fd37e09dadec28914a481cedf6247f1d3"></div>
        </td>
      <td>
      <p class="artist-name">Drake</p>
      <h5 class="song-name">Song by Drake</h5>
      </td>
      <td>
      <div class="time-holder">
      <h5 class="song-length">3:35</h5>
      </div>
      </td>
      
    </tr>
  </tbody>
</table>
        
        
        </div>
        <button class="play-spotify">click me bro</button> 
    </div>
</div>
<div class="container-fluid bottom-section">
<div class="row hide-open"></div>
</div>


<div class="modal fade" id="noauth" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-body">
        <div class="navbar-brand">
        <img src="https://image.spreadshirtmedia.com/image-server/v1/mp/designs/1017840951,width=178,height=178,version=1550330846/lofi-hip-hop-tumblr-pink-logo.png"></img></span><span id="logo">Sound Good Music</span>
        <div>
        <div class="info-message">
        <h1>You're Not Logged In!</h1>
        <div class="row">
        <div class="col-lg-6"><button id="home" class="btn btn-primary">Home</button></div>
        <div class="col-lg-6"><button id="login" class="btn btn-primary">Login</button></div>
        </div>
        <div>
      </div>
    </div>
  </div>
</div>

<script type="text/javascript" src="../animation.js"></script>
<!--Spotify SDK -->
<script src="https://sdk.scdn.co/spotify-player.js"></script>
<script type="text/javascript">
    var my_device = '';

    window.onSpotifyWebPlaybackSDKReady = () => {
        var token = window.localStorage.getItem('token');
        const player = new Spotify.Player({
          name: 'Web Playback SDK Quick Start Player',
          getOAuthToken: cb => { cb(token); }
        });
      
    // Error handling
    player.addListener('initialization_error', ({ message }) => { console.error(message); });
    player.addListener('authentication_error', ({ message }) => { console.error(message); });
    player.addListener('account_error', ({ message }) => { console.error(message); });
    player.addListener('playback_error', ({ message }) => { console.error(message); });
      
    // Playback status updates
    player.addListener('player_state_changed', state => { console.log(state); });
      
    // Ready
    player.addListener('ready', ({ device_id }) => {
        my_device = device_id;
        console.log('Ready with Device ID', device_id);
    });
      
    // Not Ready
    player.addListener('not_ready', ({ device_id }) => {
        console.log('Device ID has gone offline', device_id);
    });
      
    // Connect to the player!
    player.connect().then(success => {
        if (success) {
    $('.play-spotify').click(function(){PressPlay(my_device, token, player)});
    console.log('WINNNER!!! The Web Playback SDK successfully connected to Spotify!');
    } else {console.log("fail")}
    })



    }
</script>


</body>

</html>